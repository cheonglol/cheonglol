---
/**
 * WRITING RULES FOR THIS FILE:
 * - Direct, factual prose only. No marketing language, no filler adjectives.
 * - Technical documentation style: concise, specific, verifiable.
 * - Write about the subject in third person. State what was built and how.
 * - No blog voice, no contrasts ("not X, but Y"), no rhetorical devices.
 * - No editorial opinions, no thought-leadership, no manifestos.
 * - Every sentence should be verifiable or contain a concrete detail.
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import SectionDivider from "../components/ui/SectionDivider.astro";
import SelfieCarousel from "../components/home/SelfieCarousel.astro";

// Types
interface Skill {
  name: string;
  level: 1 | 2 | 3 | 4 | 5;
}

interface SkillCategory {
  [category: string]: Skill[];
}

// Skills data
const skillsData: SkillCategory = {
  "Languages & Frameworks": [
    { name: "TypeScript", level: 4 },
    { name: "JavaScript", level: 4 },
    { name: "React", level: 4 },
    { name: "Vue", level: 3 },
    { name: "Python", level: 3 },
    { name: "C#", level: 3 },
    { name: "Java", level: 2 },
    { name: "Kotlin", level: 2 },
    { name: "Swift", level: 2 },
    { name: "C++", level: 2 },
  ],
  "Backend & Infrastructure": [
    { name: "Fastify", level: 4 },
    { name: "Prisma", level: 4 },
    { name: "PostgreSQL", level: 4 },
    { name: "Telegram Bot API", level: 4 },
    { name: "Railway", level: 4 },
    { name: "Linux", level: 3 },
    { name: "Docker", level: 3 },
    { name: "CI/CD", level: 3 },
    { name: "Cloudflare", level: 2 },
    { name: "Portainer", level: 3 },
    { name: "VPN/Networking", level: 2 },
    { name: "Homelab & Networking", level: 2 },
  ],
  "Frontend & Tooling": [
    { name: "Astro", level: 3 },
    { name: "Vite", level: 3 },
    { name: "Bun", level: 3 },
    { name: "TanStack Query", level: 3 },
  ],
  "AI & Emerging": [
    { name: "MCP Servers", level: 3 },
    { name: "Mastra AI", level: 3 },
    { name: "GitHub Copilot", level: 3 },
    { name: "Agent Orchestration", level: 3 },
    { name: "Stable Diffusion", level: 2 },
    { name: "RAG Applications", level: 2 },
    { name: "LangChain", level: 2 },
    { name: "NLP/ML", level: 2 },
  ],
};

// Helper function to map skill level to CSS class
function getLevelClass(level: Skill["level"]): string {
  switch (level) {
    case 4:
    case 5:
      return "proficient";
    case 3:
      return "working";
    case 1:
    case 2:
      return "foundational";
    default:
      return "foundational";
  }
}

// Helper function to render skill bars
function renderSkillBars(level: Skill["level"]): string {
  return [1, 2, 3, 4, 5]
    .map((i) => `<span class="bar ${i > level ? "dim" : ""}"></span>`)
    .join("");
}

const title = "Lester Cheong";
---

<BaseLayout title={title} currentPage="profile">
  <header class="header-grid">
    <div class="header-info">
      <h1>Lester Cheong</h1>
      <p class="text-muted">Full-Stack Engineer &amp; Builder · Singapore</p>
    </div>
    <div class="header-selfie">
      <SelfieCarousel />
    </div>
  </header>

  <SectionDivider />

  <section>
    <h2>Summary</h2>
    <p>
      Full-stack engineer. 4 production systems across AI, commerce, and
      enterprise banking. Sole operator on all deployed systems: deployment,
      monitoring, incident response. No ops team. TypeScript-dominant.
      Open-source tooling. Scope limited to what's needed; cost kept low.
    </p>
    <p>
      Currently freelancing for 3 paying SMB clients. Built an LLM agent that
      takes print orders through Telegram (Mastra AI, tool-calling, persistent
      memory). Built a sales order pipeline for a 24-user distribution team
      (grammY, PostgreSQL, automated reporting). Built a computer-vision
      photobooth deployed at live events (Stable Diffusion, InsightFace, Vue 3).
      Built a PWA for a heritage restaurant (React, Supabase, service worker).
      Previously spent 18 months at OCBC Bank on OpenBanking APIs.
    </p>
    <p>
      AI tooling reduced the cost of custom software. One engineer now delivers
      what previously required a team. Small businesses lack access to
      purpose-built software because existing solutions are too expensive or too
      generic. He builds in that gap. Focuses on keeping deployed products
      operational over starting new ones.
    </p>
  </section>

  <SectionDivider />

  <section>
    <h2>Experience</h2>

    <article class="card">
      <h3>Sales Executive &amp; Technical Consultant</h3>
      <p class="text-muted">JustifyPrint · May 2025 – Present</p>
      <p>
        Print shop with no prior tech infrastructure. Built an LLM-powered
        Telegram bot (Mastra AI, tool-calling agents) that handles product
        inquiries, calculates pricing, and captures orders. Also rebuilt the
        company website with analytics tracking.
      </p>
    </article>

    <article class="card">
      <h3>Freelance Software Engineer</h3>
      <p class="text-muted">Self-employed · Dec 2024 – Present</p>
      <p>
        3 paying clients. Delivered a Telegram-based order management system
        (24–26 daily users, PostgreSQL, role-based access, CRON reports), an AI
        photobooth for live events, and a restaurant PWA. Sole operator on all
        systems: CI/CD, monitoring, on-call, infrastructure.
      </p>
    </article>

    <article class="card">
      <h3>API Developer, Digital Channels &amp; OpenBanking</h3>
      <p class="text-muted">OCBC Bank · Apr 2023 – Sep 2024</p>
      <p>
        OpenBanking API development. Owned the partner onboarding pipeline: spec
        review, implementation, regression testing, production release. Managed
        change tickets through banking-grade release gates. Zero rollback
        incidents. Mentored Ignite apprentices on an internal portal (React,
        Spring).
      </p>
    </article>

    <article class="card">
      <h3>IGNITE Apprenticeship, OpenBanking &amp; Partnerships</h3>
      <p class="text-muted">OCBC Bank · Mar 2022 – Mar 2023</p>
      <p>
        Built a Node.js CLI that parses Postman collections, auto-generates
        assertion tests, and renders results on a dashboard. Replaced manual QA
        for the team's API regression suite. Won Rookie of the Year. Taught
        JavaScript to secondary school students via Code@OCBC.
      </p>
    </article>

    <article class="card">
      <h3>IoT Lock Technician</h3>
      <p class="text-muted">SG Bike · Nov 2018 – Aug 2020</p>
      <p>
        Shared-mobility startup. Trained 3 interns, wrote the team's first
        troubleshooting documentation. Reverse-engineered a competitor's lock
        firmware acquired through M&A (no keys provided) to integrate into fleet
        operations.
      </p>
    </article>

    <article class="card">
      <h3>Hackathons</h3>
      <p class="text-muted">
        SuperAI · Jun 2025 &nbsp;|&nbsp; AngelHack · May 2024
      </p>
      <p>
        SuperAI Next 2025: full-stack TypeScript submission, 24-hour build.
        AngelHack 2024: placed 29th of 200 teams (top 15%).
      </p>
    </article>
  </section>

  <SectionDivider />

  <section>
    <h2>Community &amp; Open Source</h2>

    <article class="card">
      <h3>DevsGoWhere</h3>
      <p class="text-muted">
        Singapore Developer Community · Active Contributor
      </p>
      <p>Contributor to Singapore's developer event aggregation platform.</p>
    </article>

    <article class="card">
      <h3>Open-Source &amp; AI Tooling</h3>
      <p class="text-muted">GitHub · Ongoing</p>
      <p>
        MCP servers (wayland-mcp for AI desktop automation, in active
        development). 26 original repos, 1300+ contributions. TypeScript project
        templates and developer utilities.
      </p>
    </article>
  </section>

  <SectionDivider />

  <section>
    <h2>Projects</h2>

    <article class="card">
      <h3>JustifyPrint: AI Sales Agent</h3>
      <p class="text-muted">Justifyprint · 2025 – Present · Production</p>
      <p>
        Tool-calling LLM agent that sells printing services through Telegram.
        Queries live product catalogs, calculates pricing with paper/size
        multipliers, saves order drafts, processes confirmations. Runs 24/7.
        Conversation memory with token-aware context management.
      </p>
      <ul class="project-tags">
        <li>TypeScript</li>
        <li>Mastra AI</li>
        <li>grammY</li>
        <li>Prisma</li>
        <li>Fastify</li>
        <li>PostgreSQL</li>
        <li>Railway</li>
      </ul>
    </article>

    <article class="card">
      <h3>Tekong Seafood Restaurant: Digital Storefront</h3>
      <p class="text-muted">
        tekong-seafood-restaurant · 2024 – Present · Production
      </p>
      <p>
        PWA for a 35-year restaurant in Singapore. Menu digitized from
        spreadsheets into searchable, mobile-first format. Embedded media
        (YouTube, TikTok), seasonal promotional banners, Supabase-backed
        customer data, offline-first service worker.
      </p>
      <ul class="project-tags">
        <li>React 18</li>
        <li>TypeScript</li>
        <li>PrimeReact</li>
        <li>Tailwind CSS</li>
        <li>Supabase</li>
        <li>PWA</li>
      </ul>
    </article>

    <article class="card">
      <h3>Sales Consolidator: Order Pipeline</h3>
      <p class="text-muted">
        uncle-james-giam · 2025 – Present · Production (24–26 daily users)
      </p>
      <p>
        Replaced manual spreadsheet workflow with a structured order pipeline.
        Salespersons submit orders via Telegram. PostgreSQL as source of truth.
        Role-based admin flows, CRON-triggered daily summaries, custom ESLint
        rules enforcing bot command consistency. Zero data loss since launch.
      </p>
      <ul class="project-tags">
        <li>TypeScript</li>
        <li>grammY</li>
        <li>Fastify</li>
        <li>PostgreSQL</li>
        <li>LangChain</li>
      </ul>
    </article>

    <article class="card">
      <h3>Events AI Photobooth: Generative Portraits</h3>
      <p class="text-muted">
        client-kendrick · 2026 – Present · Deployed at live events
      </p>
      <p>
        Kiosk-based AI portrait generator. Three-service architecture: Vue 3
        touch-screen frontend, Fastify session API with PostgreSQL, Python
        FastAPI service running IP-Adapter-FaceID-PlusV2 on CUDA (InsightFace
        face embedding + Stable Diffusion 1.5). User selects gender and
        hairstyle; pipeline generates stylized portrait. Dockerized for portable
        deployment to any venue with a GPU.
      </p>
      <ul class="project-tags">
        <li>Vue 3</li>
        <li>TypeScript</li>
        <li>Python</li>
        <li>FastAPI</li>
        <li>Stable Diffusion</li>
        <li>InsightFace</li>
        <li>Fastify</li>
        <li>PostgreSQL</li>
        <li>Docker</li>
      </ul>
    </article>
  </section>

  <SectionDivider />

  <section>
    <h2>Technical Competencies</h2>
    {
      Object.entries(skillsData).map(([category, skills]) => (
        <div class="skill-category">
          <h3>{category}</h3>
          <ul class="skill-list">
            {skills.map(({ name, level }) => (
              <li class={`skill-row ${getLevelClass(level)}`}>
                <span class="skill-name">{name}</span>
                <span class="skill-bars">
                  {[1, 2, 3, 4, 5].map((i) => (
                    <span class={`bar ${i > level ? "dim" : ""}`} />
                  ))}
                </span>
              </li>
            ))}
          </ul>
        </div>
      ))
    }
  </section>

  <SectionDivider />

  <section>
    <h2>Notes & Extras</h2>
    <article class="card">
      <h3>Infrastructure & Homelab</h3>
      <p>
        Homelab with multiple machines. Docker, Portainer, Linux systems
        administration. Router and network device management. Self-hosted VPN
        server. Cloudflare DNS configuration.
      </p>
    </article>
    <article class="card">
      <h3>LLM Orchestration & Automation</h3>
      <p>
        GitHub Copilot for issue management and multi-agent workflow
        orchestration. Automates repetitive development tasks across
        repositories.
      </p>
    </article>
  </section>

  <SectionDivider />

  <section>
    <h2>Contact</h2>
    <ul>
      <li><a href="https://github.com/cheonglol">GitHub</a></li>
      <li>
        <s
          ><a href="https://sg.linkedin.com/in/lester-cheong-a29a4a209"
            >LinkedIn</a
          ></s
        >
        <span class="text-muted"> (deactivated)</span>
      </li>
      <li><a href="mailto:lestercheong70@outlook.com">Email</a></li>
      <li><a href="/cheonglol/blog">Blog →</a></li>
    </ul>
  </section>
</BaseLayout>

<style lang="scss">
  @use "../styles/variables" as *;

  .header-grid {
    display: flex;
    flex-direction: column-reverse;
    gap: $space-3;
    margin-bottom: $space-4;

    @media (min-width: 640px) {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: $space-4;
      align-items: end;
    }
  }

  .header-info {
    h1 {
      margin-bottom: $space-1;
    }
  }

  .header-selfie {
    width: 65%;

    @media (min-width: 640px) {
      width: 100%;
      justify-self: end;
    }
  }

  .card {
    margin-bottom: $space-3;

    h3 {
      margin-bottom: $space-1;
    }

    p:last-child {
      margin-bottom: 0;
    }
  }

  .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: $space-1;
    margin-bottom: $space-3;
  }

  .skill-legend {
    display: flex;
    gap: $space-4;
    font-size: $font-size-xs;
    color: $text-muted;
    margin-top: $space-2;

    .legend-bar {
      display: inline-block;
      width: 24px;
      height: 4px;
      border-radius: $radius-full;
      margin-right: $space-1;
      vertical-align: middle;

      &.proficient {
        background: $accent;
      }
      &.working {
        background: $purple-400;
      }
      &.foundational {
        background: $grey-500;
      }
    }
  }

  .project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: $space-1;
    padding-left: 0;
    margin-top: $space-2;

    li {
      list-style: none;
      font-size: $font-size-xs;
      padding: 2px 10px;
      border-radius: $radius-full;
      background: rgba($accent, 0.12);
      color: $accent;
      margin-bottom: 0;
    }
  }

  section ul {
    list-style: none;
    padding-left: 0;

    li {
      margin-bottom: $space-1;
    }
  }
</style>
